<!DOCTYPE html>
<html lang="ja" xmlns:v="urn:schemas-microsoft-com:vml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>ua detection | web-doc-base</title>
<meta name="msapplication-tap-highlight" content="no">
<meta name="HandheldFriendly" content="true">
<meta name="mobileoptimized" content="0">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta http-equiv="imagetoolbar" content="no">
<meta name="format-detection" content="telephone=no">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="viewport" content="width=device-width,target-densitydpi=medium-dpi,initial-scale=1,minimum-scale=1,shrink-to-fit=no">
<script src="js/01_useragent.js"></script>
<script>
(function(){
    function print(html){
        document.write(html);
    };

    var key, str = [],
        meta,
        iOS  = ua[ 'iOS' ],
        AOSP = ua[ 'AOSP' ];

    if( iOS | 0 === 5 ){
        meta = 'initial-scale=1,minimum-scale=1';
    } else if( iOS < 5 ){
        meta = 'minimum-scale=1,maximum-scale=1';
    } else if( AOSP < 3 ){
        meta = 'width=device-width,target-densitydpi=medium-dpi,user-scalable=no';
    } else if( AOSP ){
        meta = 'width=device-width,target-densitydpi=medium-dpi,initial-scale=1,minimum-scale=1';
    };

    if( meta ) print( '<meta name="viewport" content="' + meta + '">' );

    for( key in ua ){
        str[ str.length ] = key + ( ua[key] !== true ? '=' + ua[key] : '' );
    };

    print(
        '<h1>ua</h1>' +
        '<p>' + str.join( ' , ' )
    );

    print(
        '<h1>navigator</h1>' +
        '<dl>' +
            '<dt>userAgent' +
            '<dd>' + navigator.userAgent +
            '<dt>platform' +
            '<dd>' + navigator.platform +       
            '<dt>appCodeName' +
            '<dd>' + navigator.appCodeName + 
            '<dt>appName' +
            '<dd>' + navigator.appName +
            '<dt>appVersion' +
            '<dd>' + navigator.appVersion +
            '<dt>window.chrome' +
            '<dd>' + ( window.chrome ? 'chrome' : '' ) +
            '<dt>window.opr' +
            '<dd>' + ( window.opr ? 'opr' : '' ) +
            '<dt>window.searchBoxJavaBridge_' +
            '<dd>' + ( window.searchBoxJavaBridge_ ? 'searchBoxJavaBridge_' : '' ) +
        '</dl>' +

        '<h1>Short URL</h1>' +
        '<a href="https://goo.gl/PFu3uN">https://goo.gl/PFu3uN</a>'
    );

    var str = [], k, prop, l, n;
    
    for( k in window ){
        prop = window[ k ];
        if( prop && 0 < ' object function'.indexOf( typeof prop ) ){
            n = 0;
            for( l in prop ) ++n;
            if( n ) k += '[' + n + ']';
        };
        str.push( k );
    };

    print(
        '<h1>window ' + str.length +'</h1>' +
        '<textarea readonly>' + str.sort().join( '\n' ) + '</textarea>'
    );
})();

</script>
</head>
<body size='1'></body>
</html>




