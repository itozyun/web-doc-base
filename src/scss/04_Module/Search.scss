/* [module] SearchBox
 *  出現位置は #lH .lSi 下で固定
 *
 *  form.Search
 *    input[type=text].Search-txt
 *    input[type=submit].btn
--------------------------------------------------------------------------------------*/
$SEARCH_BTN_WIDTH : 3em;

.Search {
    position : relative;
    display  : block;
    @if( $UA_Modern or $UA_IE9 or $UA_IE8 or $UA_IE7 or $UA_IE6 ){
        margin   : 0 $SEARCH_BTN_WIDTH 0 #{$INPUT_BORDER_WIDTH * 3 + $FORM_ITEM_PADDING_LR * 2};
    } @else {
        padding  : 0 $SEARCH_BTN_WIDTH 0 0;
    }

    @if( $IS_NOT_IE or $UA_IE9 or $UA_IE8 ){
        width    : auto;
    }
    @if( $UA_IE5 ){
        width    : 100%;
    }
    height   : $BASE_LINE_HEIGHT_EM;
}
    .Search input {
        position : absolute;
        top      : 0;

        /* //_{#can-hover-pseudo-class */
        &:hover,
        /* //_}#can-hover-pseudo-class */
        &:active
        /* //_{#can-focus-pseudo-class */
        , &:focus
        /* //_}#can-focus-pseudo-class */
        {
            z-index : 1;
        }
    }

    .Search-txt {
        display  : block;
        width    : 100%; /* Opera <=9.27 で無視されるので <input size> 指定する */
        @if( $UA_Opera9 ){
            box-sizing  : content-box; /* Opera 9.0~9.27 */
            height      : #{$BASE_LINE_HEIGHT_EM - $INPUT_BORDER_WIDTH * 2}; /* Opera 9.0~9.27 */
            line-height : #{$BASE_LINE_HEIGHT_EM - $INPUT_BORDER_WIDTH * 2}; /* Opera 9.0~9.27 */
        }
        
        @if( $UA_Modern or $UA_IE9 or $UA_IE8 or $UA_IE7 or $UA_IE6 ){
            left : -#{$INPUT_BORDER_WIDTH * 3 + $FORM_ITEM_PADDING_LR * 2};
        } @else {
            left : math.div($INPUT-BORDER-WIDTH, 2);
        }

        @if( $UA_Modern ){
            &:invalid {
                color : $COLOR_Default_casual_text; /* ie10,11 で赤字を上書き */
            }
        }
    }
    /* 1. ie6-7 は input[type=submit] が border-box, [type=text] は content-box の為
          width & height と border を em サイズにして補正する。
       2. ie5.5 以下は、[type=submit] [type=text] 共に border-box。
    */
    .Search .btn {
        padding-left  : 0;
        padding-right : 0;

        @if( $IS_IE8_OR_9 or $UA_Modern ){
            width    : $SEARCH_BTN_WIDTH;
            right    : #{- $SEARCH_BTN_WIDTH};
        }

        @if( $UA_IE7 or $UA_IE6 ){
            width    : #{$SEARCH_BTN_WIDTH + $INPUT_BORDER_WIDTH * 2};
            right    : -$SEARCH-BTN-WIDTH - math.div($INPUT-BORDER-WIDTH, 2);
        }

        @if( $UA_IE5 or $UA_IE55 ){
            width    : $SEARCH_BTN_WIDTH;
            right    : math.div($INPUT-BORDER-WIDTH, 2);
        }

        @if( $IS_LEGACY ){
            width    : $SEARCH_BTN_WIDTH;
            left     : 100%;
        }

        /* http://tacamy.hatenablog.com/entry/2014/02/19/141948 */
        overflow      : hidden;
        white-space   : nowrap;
        text-overflow : ellipsis;
    }

@if( $IS_OLD_GECKO ){
    .Search {
        margin : 0;
    }
    .Search input {
        position : static;
        display  : inline;
        display  : -moz-inline-box;
    }
    .Search-txt {
        width  : 60%;
        height : #{$BASE_LINE_HEIGHT_EM + $INPUT_BORDER_WIDTH * 2};
    }
    @if( $UA_Gck101-121 or $UA_Gck130-190 ){
        /* override Gecko 1.2~1.8.1 */
        .Search [_lazyhack_="_:lang(x)"] {
            margin : 0 $SEARCH_BTN_WIDTH 0 #{$INPUT_BORDER_WIDTH * 3 + $FORM_ITEM_PADDING_LR * 2};
        }
        .Search input [_lazyhack_="_:lang(x)"] {
            position : absolute;
            display  : block;
        }
        .Search-txt [_lazyhack_="_:lang(x)"] {
            width : 100%;
        }
    }
    @if( $UA_Gck130-190 ){
        @-moz-document url-prefix() { /* override Gecko 1.8~ */
            .Search-txt {
                height : #{$BASE_LINE_HEIGHT_EM + $INPUT_BORDER_WIDTH * 2};
            }
        }
    }
}
@if( $IS_Opera7x ){
    .Search input {
        position     : static;
        display      : inline;
        border-width : 0;
        padding      : 0;
    }
}