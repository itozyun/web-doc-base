/*  Typography
--------------------------------------------------------------------------------------*/
    h1, .h1, h2, h3, h4, h5, h6 {
        @include unbreak-inside;
        @include unbreak-after;
    }

    h1, h2, h3, h5, h6 {
        font-weight : normal;
    }

    h4, h5, h6 {
        @include responsive-horizontal-margin(2, 1.5em, 0.8em);
    }
    h4 {
        font-size      : 1em;
        border-width   : 0 0 0 0.7em;
        border-color   : $COLOR_Light_text;
        padding        : 0 0 0 0.3em;
    }
    h5 {
        font-size      : 1em;
        border-width   : 0 0 0 0.5em;
        border-color   : $COLOR_Light_casual_text;
        padding        : 0 0 0 0.5em;
    }
    h6 {
        font-size      : 1em;
        border-width   : 0 0 0 0.3em;
        border-color   : $COLOR_Light_casual_text;
        color          : $COLOR_Light_casual_text;
        padding        : 0 0 0 0.7em;
    }

    strong, em {
        font-style : normal;
    }

    @if( $CANUSE_ATTR_SELECTOR ){
        q[title], q[cite] {
            border-bottom : 1px dotted;
        }
    }

    dfn,
    /* //_{#can-attr-selector */
    abbr[title],
    /* //_}#can-attr-selector */
    acronym {
        border-bottom   : 1px dotted;
        text-decoration : none;
        cursor          : help;
    }

/*  Block Level Elements
--------------------------------------------------------------------------------------*/
    pre {
        margin : 1em 0;
    }

    p, ul, ol, dl {
        @include responsive-horizontal-margin(1, 1em, 1em);
    }

/*  object
--------------------------------------------------------------------------------------*/
    img, iframe
    // , embed, object, video
    {
        @include unbreak-inside;
        @include responsive-horizontal-margin(1, 1em, 1em);
        @if( $CANUSE_MARGIN_AUTO ){
            margin : 1em auto;
        }
        @if( $CANUSE_MARGIN_AUTO == false ){
            margin : 1em 0;
        }
        a & {
            display : block; /* focus 時の塗りを適切にする */
        }
        li &, tr &, dl & {
            margin-top : 0;
        }

        @if( $CANUSE_MAX_AND_MIN_SIZES ){
            max-width : 100%;
    
            @include media(tablet_print) {
                & {
                    max-width  : #{100% - $TABLET_H_SPACE * 2};
                }
            }
            @include media(phablet) {
                & {
                    max-width  : #{100% - $PHABLET_H_SPACE * 2};
                }
            }
            @include media(phone) {
                & {
                    max-width  : #{100% - $PHONE_H_SPACE * 2};
                }
            }
            @include media(watch) {
                & {
                    max-width  : 100%;
                }
            }
        }
    }

/*  List, dl
--------------------------------------------------------------------------------------*/
    li {
        margin-top    : .3em;
        margin-bottom : .3em;
    }
    dt {
        margin-top : #{$PARAGRAPH_LINE_HEIGHT_EM - $BASE_LINE_HEIGHT_EM};
    }
    dd {
        margin-bottom : .3em;
    }

    li, dd, dt {
        @include unbreak-inside;
    }

    dt {
        @include unbreak-after;
    }

/*  Nesting
--------------------------------------------------------------------------------------*/
    ul, ol {
        padding-left : 2em;
        @if( $UA_Modern ){
            list-style-position : outside; /* android opera12 ?? */
        }
        @if( $UA_IE5 or $UA_IE55 ){
            margin-left : 0;
        }
        li &, dl & {
            padding-left : 1em;
        }
    }

    tr blockquote {
        p, pre {
            @include responsive-horizontal-margin(1, 1em, 1em);
        }
    }

    // (li|dd) > tr > (ol|ul) が来ることは無いので tr が先で tr > (li|dd) > (ol|ul) の場合にスタイルを上書きする
    tr {
        ol, ul {
            margin-top    : 0;
            margin-bottom : 0.5em;
        }
        p, pre, blockquote, dl {
            margin : 0 0 .5em;
        }
        blockquote p {
            margin : .5em 0;
        }
    }

    li, dd {
        ol, ul {
            margin-top    : 0;
            margin-bottom : 0;
        }
        p, pre, blockquote, dl, table {
            margin : 0 0 .5em;
        }
        blockquote p {
            margin : .5em 0;
        }
    }

/*  Phone
--------------------------------------------------------------------------------------*/
@include media(phone) {
    dd {
        margin-left : 1em;
    }
    li {
        margin-top    : .2em;
        margin-bottom : .2em;
    }
    dt {
        margin-top : #{$PARAGRAPH_LINE_HEIGHT_PHONE_EM - $BASE_LINE_HEIGHT_EM};
    }
    dd, li {
        margin-bottom : .2em;
    }
}

/*  Watch
--------------------------------------------------------------------------------------*/
@include media(watch) {
    dd {
        margin-left : 0.5em;
    }
    li {
        margin-top    : .1em;
        margin-bottom : .1em;
    }
    dt {
        margin-top : #{$PARAGRAPH_LINE_HEIGHT_WATCH_EM - $BASE_LINE_HEIGHT_EM};
    }
    dd {
        margin-bottom : .1em;
    }
}

/*  Dark theme
--------------------------------------------------------------------------------------*/
@include media(dark_theme) {
    h4 {
        border-color : $COLOR_Dark_text;
    }
    h5 {
        border-color : $COLOR_Dark_casual_text;
    }
    h6 {
        border-color : $COLOR_Dark_casual_text;
        color        : $COLOR_Dark_casual_text;
    }

    @if( $UA_Modern ){
        img {
            filter : brightness(85%);
        }
    }
}

/*  Forced colors
--------------------------------------------------------------------------------------*/
img {
    @include media(forced_colors_native){
        filter : brightness(100%);
    }
}