/* ClearFix
 *   https://outcloud.blogspot.com/2020/11/ultimate-clearfix.html
--------------------------------------------------------------------------------------*/

@mixin create-CSS-generated-block() {
    & {
        /* Gecko <=1.9.0 do not support CSS-P. */
        /* Opera <7.20, do not support CSS-P. */
        @if( $CANUSE_CSS_GENERATED_BLOCK ){
            content : " ";
            display : block;
        }
    }
}

@mixin clearfix {
    @if( $UA_IE9 or $UA_IE8 or $UA_IE7 ){
        overflow : hidden;
    } @else if( $UA_IE6 or $UA_IE55 ){
        zoom : 1;
    } @else if( $UA_IE5 ){
        height : 1%;
    } @else if( $UA_MacIE5 ){
        display : inline-table;
    } @else if( $UA_Gck-097 or $UA_Gck101-121 ){
        position : relative; /* for Gecko 0.9.4.1, 1.0.2 */
    }

    @if( $IS_NOT_IE ){
        &:after {
            clear : both;
            @if( $UA_Modern or $IS_OLD_OPERA ){
                content     : "";
                display     : block;
                visibility  : hidden;
                clear       : both;
                @if( $UA_Modern or $UA_Opera9 ){
                    height : 0; /* for Gecko 0.9~1.7.5 & Opera 9~11(+contentEditable) */
                }
            } @else if( $UA_Gck-097 or $UA_Gck101-121 ){
                content : "";
                clear   : both;
            } @else if( $UA_Gck130-190 ){
                content    : ".";   /* for Gecko 1.3~1.5 */
                height     : 0;     /* for Gecko 0.9~1.7.5 */
                display    : block; /* for Gecko & Opera */
                visibility : hidden;
                font-size  : 0.1px; /* for Gecko 1.7.5 で発生する隙間を削除, 0 の場合 1.3 でコンテンツが消える */
                @-moz-document url-prefix() { /* override Gecko 1.8~ */
                    content : "";
                }
            };
        }
    }
}